schema: '2.0'
stages:
  data_preparation:
    cmd: python prepare_data.py --input_path ../data/census.csv --output_path ../data
    deps:
    - path: ../data/census.csv
      md5: dda410256d8e3ec9d0f1159d550e4990
      size: 3702862
    - path: pipeline_components.py
      md5: 9deab8504251d4e3270f56449821b7c0
      size: 1542
    - path: prepare_data.py
      md5: c8174042efe05151cfe6cfef22c89aa7
      size: 3845
    params:
      params.yaml:
        data.target: salary
        data.test_size: 0.2
        seed: 99
    outs:
    - path: ../data/fitted_data_pipeline.joblib
      md5: d046aa1ace8b185783a97236c45f70a6
      size: 7387
    - path: ../data/test_clean_census.csv
      md5: 0011a91299c805e008a765b9729cf5fe
      size: 716054
    - path: ../data/train_clean_census.csv
      md5: ad4183def0ef7b7eb89fa8a3eab1ae42
      size: 2864561
    - path: ../data/train_processed_census.csv
      md5: dc48728ee1d9bc1ed99115cf29d7fdb9
      size: 8024606
  training:
    cmd: python train_model.py --input_path ../data/train_clean_census.csv --output_path
      .. --pipe_path ../data/fitted_data_pipeline.joblib
    deps:
    - path: ../data/train_clean_census.csv
      md5: ad4183def0ef7b7eb89fa8a3eab1ae42
      size: 2864561
    - path: pipeline_components.py
      md5: 9deab8504251d4e3270f56449821b7c0
      size: 1542
    - path: train_model.py
      md5: b629bb71ed54cbb9d2396126bdf2fd81
      size: 2277
    params:
      params.yaml:
        data.target: salary
        model:
          penalty: l2
          solver: liblinear
    outs:
    - path: ../model.joblib
      md5: ad9528cfcebfa61ddc94158c9ecf24fd
      size: 9001
  scoring:
    cmd: python score_model.py --input_path ../data/test_clean_census.csv --output_path
      ../data/results.txt --model_path ../model.joblib
    deps:
    - path: ../data/test_clean_census.csv
      md5: 0011a91299c805e008a765b9729cf5fe
      size: 716054
    - path: ../model.joblib
      md5: ad9528cfcebfa61ddc94158c9ecf24fd
      size: 9001
    - path: score_model.py
      md5: aed706f2965e50d79c0deabfe1b9c30c
      size: 3645
    params:
      params.yaml:
        data.target: salary
        model:
          penalty: l2
          solver: liblinear
    outs:
    - path: ../data/results.txt
      md5: 3942b07662443c9a574467087bde7182
      size: 95
